<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Paru::Pandoc - Paru API documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-3C-3C">#&lt;&lt;</a>
    
    <li ><a href="#method-i-configure">#configure</a>
    
    <li ><a href="#method-i-convert">#convert</a>
    
    <li ><a href="#method-i-to_command">#to_command</a>
    
    <li ><a href="#method-i-to_option_string">#to_option_string</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Paru::Pandoc">
  <h1 id="class-Paru::Pandoc" class="class">
    class Paru::Pandoc
  </h1>

  <section class="description">
    
<p><a href="Pandoc.html">Pandoc</a> is a wrapper around the pandoc system. See
&lt;<a href="http://pandoc.org/README.html">pandoc.org/README.html</a>&gt;
for details about pandoc.  This file is basically a straightforward
translation from command line program to ruby class</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="OPTIONS">OPTIONS
        
        <dd><p><a href="Pandoc.html">Pandoc</a> has a number of command line options. Most
are simple options, like flags, that can be set only once. Other options
can occur more than once, such as the css option: to add more than one css
file to a generated standalone html file, use the css options once for each
stylesheet to include. Other options do have the pattern <a
href=":value">key</a>, which can also occur multiple times, such as
metadata.</p>

<p>All options are specified in a pandoc_options.yaml. If it is an option that
can occur only once, the value of the option in that yaml file is its
default value. If the option can occur multiple times, its value is an
array with one value, the default value.</p>

<p>For each of these options a method is defined as follows:</p>
        
      
      </dl>
    </section>
    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/paru/pandoc.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span> <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> 
  <span class="ruby-ivar">@options</span> = {}
  <span class="ruby-identifier">configure</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-3C-3C" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">&lt;&lt;</span><span
            class="method-args">(input)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Pandoc.html#method-i-convert">convert</a>
        </div>
        
      </div>

    
      <div id="method-i-configure" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">configure</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="configure-source">
            <pre><span class="ruby-comment"># File lib/paru/pandoc.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">configure</span> <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
  <span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-convert" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">convert</span><span
            class="method-args">(input)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts input string to output string using the pandoc invocation
configures in this <a href="Pandoc.html">Pandoc</a> instance.</p>
          
          

          
          <div class="method-source-code" id="convert-source">
            <pre><span class="ruby-comment"># File lib/paru/pandoc.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">convert</span> <span class="ruby-identifier">input</span>
  <span class="ruby-identifier">output</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">IO</span>.<span class="ruby-identifier">popen</span>(<span class="ruby-identifier">to_command</span>, <span class="ruby-string">&quot;r+&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">p</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">input</span>
    <span class="ruby-identifier">p</span>.<span class="ruby-identifier">close_write</span>
    <span class="ruby-identifier">output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">output</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Pandoc.html#method-i-3C-3C">&lt;&lt;</a>
        </div>
        

        
      </div>

    
      <div id="method-i-to_command" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_command</span><span
            class="method-args">(option_sep = " \\\n\t")</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="to_command-source">
            <pre><span class="ruby-comment"># File lib/paru/pandoc.rb, line 53</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_command</span> <span class="ruby-identifier">option_sep</span> = <span class="ruby-string">&quot; \\\n\t&quot;</span>
  <span class="ruby-node">&quot;pandoc\t#{to_option_string option_sep}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_option_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_option_string</span><span
            class="method-args">(option_sep)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="to_option_string-source">
            <pre><span class="ruby-comment"># File lib/paru/pandoc.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_option_string</span> <span class="ruby-identifier">option_sep</span>
  <span class="ruby-identifier">options_arr</span> = []
  <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">option</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">option_string</span> = <span class="ruby-node">&quot;--#{option.to_s.gsub &quot;_&quot;, &quot;-&quot;}&quot;</span>

    <span class="ruby-keyword">case</span> <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">TrueClass</span> <span class="ruby-keyword">then</span>
      <span class="ruby-comment"># Flags don&quot;t have a value, only its name</span>
      <span class="ruby-comment"># For example: --standalone</span>
      <span class="ruby-identifier">options_arr</span>.<span class="ruby-identifier">push</span> <span class="ruby-node">&quot;#{option_string}&quot;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">FalseClass</span> <span class="ruby-keyword">then</span>
      <span class="ruby-comment"># Skip this option; consider a flag with value false as unset</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span> <span class="ruby-keyword">then</span>
      <span class="ruby-comment"># This option can occur multiple times: list each with its value.</span>
      <span class="ruby-comment"># For example: --css=main.css --css=print.css</span>
      <span class="ruby-identifier">options_arr</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">val</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{option_string}=#{val.to_s}&quot;</span>}.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">option_sep</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># All options that aren&quot;t flags and can occur only once have the</span>
      <span class="ruby-comment"># same pattern: --option=value</span>
      <span class="ruby-identifier">options_arr</span>.<span class="ruby-identifier">push</span> <span class="ruby-node">&quot;#{option_string}=#{value.to_s}&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">options_arr</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">option_sep</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

